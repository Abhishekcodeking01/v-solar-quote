<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Off-Grid Solar Quotation Builder</title>
    <link rel="stylesheet" href="style.css" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <header class="page-header">
        <h1>Off-Grid Solar Quotation Builder</h1>
        <a class="back-home" href="../index.html">‚Üê Back to Home</a>
    </header>

    <main class="container">
        <!-- Customer Info -->
        <section class="card">
            <h2>Customer Information</h2>
            <div class="row"><div class="col"><label>Customer Name</label><input type="text" id="customerName" placeholder="Enter name" /></div><div class="col"><label>Customer Address</label><input type="text" id="customerAddress" placeholder="Enter address" /></div></div>
            <div class="row"><div class="col"><label>Customer Email</label><input type="email" id="customerEmail" placeholder="example@email.com" /></div><div class="col"><label>Customer City</label><input type="text" id="customerCity" placeholder="City" /></div></div>
        </section>

        <!-- System Capacity -->
        <section class="card">
            <h2>System Capacity</h2>
            <div class="row"><div class="col"><label>Required System Size (kW)</label><input type="number" id="systemKw" min="1" oninput="updateSystemDependent(); recalcAllCards()" /></div><div class="col"><label>Common Margin (%)</label><input type="number" id="commonMargin" value="20" oninput="recalcAllCards()" /></div></div>
        </section>

        <!-- Inverter -->
        <section class="card" id="inverterCard">
            <div class="card-header"><h2>Inverter</h2><label class="switch"><input type="checkbox" id="enableInverter" checked><span class="slider round"></span></label></div>
            <div class="row"><div class="col"><label>Model</label><select id="inverterModel"></select></div><div class="col"><label>Qty</label><input type="number" id="inverterQty" value="1" min="1" /></div></div>
            <div class="row"><div class="col"><label>Dealer Price</label><input type="number" id="inverterDealer" readonly /></div><div class="col"><label>Override</label><label class="switch-small"><input type="checkbox" id="inverterOverrideToggle"><span class="slider-small round"></span></label><input id="inverterOverridePrice" class="hidden" type="number"></div></div>
            <div class="row"><div class="col"><label>Use Common Margin?</label><label class="switch-small"><input type="checkbox" id="inverterUseCommonMargin" checked><span class="slider-small round"></span></label></div><div class="col"><label>Custom Margin</label><input type="number" id="inverterCustomMargin" disabled value="0"></div></div>
            <div class="row result-row"><div class="col"><label>Final Rate</label><input id="inverterFinalRate" readonly></div><div class="col"><label>GST</label><input id="inverterGST" readonly></div><div class="col"><label>Total</label><input id="inverterTotal" readonly></div></div>
        </section>

        <!-- Panels -->
        <section class="card" id="panelCard">
            <div class="card-header"><h2>Solar Panels</h2><label class="switch"><input type="checkbox" id="enablePanels" checked><span class="slider round"></span></label></div>
            <div class="row"><div class="col"><label>Model</label><select id="panelModel"></select></div><div class="col"><label>Auto Qty</label><input id="panelQty" readonly></div></div>
            <div class="row"><div class="col"><label>DC Capacity (W)</label><input id="panelCapacity" readonly></div><div class="col"><label>Dealer</label><input id="panelDealer" readonly></div></div>
            <div class="row"><div class="col"><label>Override</label><label class="switch-small"><input type="checkbox" id="panelOverrideToggle"><span class="slider-small round"></span></label><input id="panelOverridePrice" class="hidden" type="number"></div><div class="col"><label>Use Common?</label><label class="switch-small"><input type="checkbox" id="panelsUseCommonMargin" checked><span class="slider-small round"></span></label></div></div>
            <div class="row"><div class="col"><label>Custom Margin</label><input id="panelsCustomMargin" type="number" disabled value="0"></div><div class="col"><label>GST</label><input id="panelGST" readonly></div></div>
            <div class="row result-row"><div class="col"><label>Final Rate</label><input id="panelFinalRate" readonly></div><div class="col"><label>Total</label><input id="panelTotal" readonly></div></div>
        </section>

        <!-- BATTERY CARD (New for Off-Grid) -->
        <section class="card" id="batteryCard">
            <div class="card-header"><h2>Battery</h2><label class="switch"><input type="checkbox" id="enableBattery" checked><span class="slider round"></span></label></div>
            <div class="row"><div class="col"><label>Model</label><select id="batteryModel"><option value="">Select Battery</option></select></div><div class="col"><label>Qty</label><input type="number" id="batteryQty" value="1" min="1"></div></div>
            <div class="row"><div class="col"><label>Dealer</label><input id="batteryDealer" readonly></div><div class="col"><label>Override</label><label class="switch-small"><input type="checkbox" id="batteryOverrideToggle"><span class="slider-small round"></span></label><input id="batteryOverridePrice" class="hidden" type="number"></div></div>
            <div class="row"><div class="col"><label>Use Common?</label><label class="switch-small"><input type="checkbox" id="batteryUseCommonMargin" checked><span class="slider-small round"></span></label></div><div class="col"><label>Custom Margin</label><input id="batteryCustomMargin" type="number" disabled value="0"></div></div>
            <div class="row result-row"><div class="col"><label>Final Rate</label><input id="batteryFinalRate" readonly></div><div class="col"><label>GST (28%)</label><input id="batteryGST" readonly></div><div class="col"><label>Total</label><input id="batteryTotal" readonly></div></div>
        </section>

        <!-- Standard BoS Components (ACDB, DCDB, Cables, LA, Install, Structure) -->
        <section class="card" id="acdbCard"><div class="card-header"><h2>ACDB</h2><label class="switch"><input type="checkbox" id="enableACDB" checked><span class="slider round"></span></label></div><div class="row"><div class="col"><select id="acdbModel"></select></div><div class="col"><input type="number" id="acdbQty" value="1"></div></div><div class="row"><div class="col"><input id="acdbDealer" readonly></div><div class="col"><label class="switch-small"><input type="checkbox" id="acdbOverrideToggle"><span class="slider-small round"></span></label><input id="acdbOverridePrice" class="hidden" type="number"></div></div><div class="row"><div class="col"><label class="switch-small"><input type="checkbox" id="acdbUseCommonMargin" checked><span class="slider-small round"></span></label></div><div class="col"><input id="acdbCustomMargin" type="number" disabled></div></div><div class="row result-row"><div class="col"><input id="acdbGST" readonly></div><div class="col"><input id="acdbTotal" readonly></div></div></section>
        
        <section class="card" id="dcdbCard"><div class="card-header"><h2>DCDB</h2><label class="switch"><input type="checkbox" id="enableDCDB" checked><span class="slider round"></span></label></div><div class="row"><div class="col"><select id="dcdbModel"></select></div><div class="col"><input type="number" id="dcdbQty" value="1"></div></div><div class="row"><div class="col"><input id="dcdbDealer" readonly></div><div class="col"><label class="switch-small"><input type="checkbox" id="dcdbOverrideToggle"><span class="slider-small round"></span></label><input id="dcdbOverridePrice" class="hidden" type="number"></div></div><div class="row"><div class="col"><label class="switch-small"><input type="checkbox" id="dcdbUseCommonMargin" checked><span class="slider-small round"></span></label></div><div class="col"><input id="dcdbCustomMargin" type="number" disabled></div></div><div class="row result-row"><div class="col"><input id="dcdbGST" readonly></div><div class="col"><input id="dcdbTotal" readonly></div></div></section>

        <section class="card" id="acCableCard"><div class="card-header"><h2>AC Cable</h2><label class="switch"><input type="checkbox" id="enableACCable" checked><span class="slider round"></span></label></div><div class="row"><div class="col"><input type="text" id="acCableGauge" placeholder="Gauge"></div><div class="col"><input type="number" id="acCableQty" value="0"></div></div><div class="row"><div class="col"><input type="number" id="acCablePrice" placeholder="Price/m"></div><div class="col"><input id="acCableTotal" readonly></div></div></section>

        <section class="card" id="earthCableCard"><div class="card-header"><h2>Earth Cable</h2><label class="switch"><input type="checkbox" id="enableEarthCable" checked><span class="slider round"></span></label></div><div class="row"><div class="col"><input type="text" id="earthCableGauge" placeholder="Gauge"></div><div class="col"><input type="number" id="earthCableQty" value="0"></div></div><div class="row"><div class="col"><input type="number" id="earthCablePrice" placeholder="Price/m"></div><div class="col"><input id="earthCableTotal" readonly></div></div></section>

        <section class="card" id="laCard"><div class="card-header"><h2>LA</h2><label class="switch"><input type="checkbox" id="enableLA" checked><span class="slider round"></span></label></div><div class="row"><div class="col"><input type="number" id="laQty" value="0"></div><div class="col"><input type="number" id="laPrice" placeholder="Price"></div></div><div class="row result-row"><div class="col"><input id="laTotal" readonly></div></div></section>

        <section class="card" id="installationCard"><div class="card-header"><h2>Installation</h2><label class="switch"><input type="checkbox" id="enableInstallation" checked><span class="slider round"></span></label></div><div class="row"><div class="col"><input id="installBase" readonly></div><div class="col"><input type="number" id="installEditable"></div></div><div class="row"><div class="col"><label class="switch-small"><input type="checkbox" id="installUseCommonMargin" checked><span class="slider-small round"></span></label></div><div class="col"><input id="installCustomMargin" type="number" disabled></div></div><div class="row result-row"><div class="col"><input id="installGST" readonly></div><div class="col"><input id="installTotal" readonly></div></div></section>

        <section class="card" id="structureCard"><div class="card-header"><h2>Structure</h2><label class="switch"><input type="checkbox" id="enableStructure" checked><span class="slider round"></span></label></div><div class="row"><div class="col"><input id="structBase" readonly></div><div class="col"><input type="number" id="structEditable"></div></div><div class="row"><div class="col"><label class="switch-small"><input type="checkbox" id="structUseCommonMargin" checked><span class="slider-small round"></span></label></div><div class="col"><input id="structCustomMargin" type="number" disabled></div></div><div class="row result-row"><div class="col"><input id="structGST" readonly></div><div class="col"><input id="structTotal" readonly></div></div></section>
        
        <section class="card" id="earthingSetCard"><div class="card-header"><h2>Earthing Set</h2><label class="switch"><input type="checkbox" id="enableEarthingSet" checked><span class="slider round"></span></label></div><div class="row"><div class="col"><input type="number" id="earthingSetQty" value="1"></div><div class="col"><input type="number" id="earthingSetDealer" value="3000" readonly></div></div><div class="row"><div class="col"><label class="switch-small"><input type="checkbox" id="earthingSetOverrideToggle"><span class="slider-small round"></span></label><input id="earthingSetOverridePrice" class="hidden" type="number"></div><div class="col"><label class="switch-small"><input type="checkbox" id="earthingSetUseCommonMargin" checked><span class="slider-small round"></span></label></div></div><div class="row"><div class="col"><input id="earthingSetCustomMargin" type="number" disabled></div><div class="col"><input id="earthingSetGST" readonly></div></div><div class="row result-row"><div class="col"><input id="earthingSetTotal" readonly></div></div></section>

        <!-- Custom Products -->
        <section class="card" id="customProductSection">
            <div class="card-header"><h2>Custom Products</h2></div>
            <div id="customProductList"></div>
            <button class="btn" onclick="addCustomProduct()">+ Add Custom Product</button>
        </section>

        <!-- Generate Buttons -->
        <section class="card generate-card">
            <button class="btn primary" onclick="generateDetailedQuote()">Detailed Quotation</button>
            <button class="btn secondary" onclick="generateSummaryQuote()">Summary Quotation</button>
            <button class="btn accent" onclick="generateShortQuote()">Short Quotation</button>
        </section>
    </main>

    <script src="script.js"></script>
</body>
</html>
